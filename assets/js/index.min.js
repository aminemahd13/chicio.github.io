function enableScroll(){$("html").css("overflow-y","auto")}function resizeViewport(e){if(!0===e){var n=$("#profile-introduction, #rendering-surface, canvas"),t=function(){n.height($(window).height()+60)};$(window).resize(t),t()}}function loadFonts(){WebFont.load({google:{families:["Open Sans"]}})}function cookieConsent(){window.addEventListener("load",function(){window.cookieconsent.initialise({palette:{popup:{background:"#9fa8da",text:"#ffffff"},button:{background:"#448aff",text:"#ffffff"}},theme:"classic",content:{dismiss:"Ok",href:window.location.protocol+"//"+window.location.host+"/cookie-policy.html",message:"This website uses cookies to ensure you get the best experience."}})})}function addTabsClickEvent(e){var n={educationAndExperience:!0};$("#profile-tabs").find("a").click(function(t){showNewTab(t,$(this)),isEducationTab()&&educationTabHasNotBeenOpened(n)&&(timelineElementsAnimation(e),updateTabsOpenedStatus(n))})}function addArrowDownClickEvent(e){!1===e&&$("#down-arrow").click(function(e){e.preventDefault(),TweenLite.to(window,2,{scrollTo:"#who-am-i-container"})})}function educationTabHasNotBeenOpened(e){return e.educationAndExperience}function updateTabsOpenedStatus(e){e.educationAndExperience=!e.educationAndExperience}function createTweenTimelineElement(e,n){return TweenMax.staggerFrom(e,1,{opacity:0,onComplete:n},.5)}function getTriggerElementIdForTimelineElement(e,n,t,o){var i=e;return n===t-1&&(i="#"+$(o[t-2]).attr("id")),i}function timelineElementsAnimation(e){var n=$('*[id^="timeline-element"]'),t=n.length;n.each(function(o){var i="#"+$(this).attr("id"),a=createTweenTimelineElement(i,function(){c.destroy()}),r=getTriggerElementIdForTimelineElement(i,o,t,n),c=createScrollMagicScene(e,r,a)})}function showNewTab(e,n){e.preventDefault(),n.tab("show")}function isEducationTab(){return"education-and-experience"===$(".nav-tabs .active").attr("id")}function profileAnimation(e){var n=new TimelineMax({onComplete:e});n.to("#profile-name",.5,{opacity:1,ease:Bounce.easeOut}),n.to("#profile-job",.5,{opacity:1,ease:Bounce.easeOut}),n.to("#profile-image",.8,{scale:1,ease:Bounce.easeOut}),n.staggerTo(".profile-icon",.25,{scale:1,opacity:1,ease:Bounce.ease},.1),n.to("#down-arrow",.5,{opacity:1,ease:Power1.easeOut})}function whoIAmAnimation(e){var n=createScrollMagicScene(e,"#who-am-i-description",createTimeLineWhoIAm(getRandomSortedIcons(),"#who-am-i-description",function(){n.destroy()}))}function getRandomSortedIcons(){var e=$(".who-am-i-icon").toArray();return e.sort(function(){return.5-Math.random()}),e}function createTimeLineWhoIAm(e,n,t){var o=new TimelineLite({onComplete:t});return o.from(n,1,{opacity:0,ease:SlowMo.linear}),o.staggerFrom(e,1,{opacity:0,scale:0,ease:Elastic.easeInOut},.1),o}function calculateXPercentNeeded(e){var n=-50,t=50;return"right"===e&&(n=50,t=-50),{image:n,text:t}}function createTweenImage(e,n){return TweenLite.from(e,.7,{opacity:0,xPercent:n})}function createTweenText(e,n,t){return TweenLite.from(e,.7,{opacity:0,xPercent:n,delay:.5,onComplete:t})}function createScrollMagicScene(e,n,t){return new ScrollMagic.Scene({triggerElement:n}).setTween(t).addTo(e)}function downArrowAnimation(){TweenMax.to("#down-arrow",.5,{bottom:45,repeat:-1,yoyo:!0,delay:.5})}function isAMobileDevice(){var e=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(e=!0),e}function showRenderingSurfaceAnimation(){TweenMax.to("#rendering-surface",.5,{opacity:1,delay:.5})}function hideLoaderAnimation(e){TweenLite.to("#loader",.3,{opacity:0,onComplete:e})}function createLight(){var e=new THREE.SphereGeometry(0),n=new THREE.MeshStandardMaterial({emissive:16777198,emissiveIntensity:1,color:0}),t=new THREE.PointLight(16777215,1,20,2);return t.power=1700,t.castShadow=!0,t.shadow.mapSize.width=512,t.shadow.mapSize.heigth=512,t.shadow.radius=1.5,t.add(new THREE.Mesh(e,n)),t.position.set(0,5,3),t}function createCamera(){var e=new THREE.PerspectiveCamera(75,$(window).width()/$(window).height(),.1,1e3);return e.position.z=8,e.position.y=0,e.position.x=0,e}function createHemisphereLight(){return new THREE.HemisphereLight(3162015,0,1)}function loadStars(e,n){e.load("assets/models/textures/circle.png",function(e){for(var t=new THREE.Geometry,o=0;o<1e4;o++){var i=new THREE.Vector3;i.x=2e3*Math.random()-1e3,i.y=2e3*Math.random(),i.z=2e3*Math.random()-1e3,t.vertices.push(i)}var a=new THREE.PointsMaterial({color:8947848,map:e,transparent:!0}),r=new THREE.Points(t,a);n(r)})}function loadPlyModelUsingPhysicalMaterial(e,n,t,o,i,a){e.load(n,function(e){var n=new THREE.MeshPhysicalMaterial(t),r=new THREE.Mesh(e,n);r.position.set(o.x,o.y,o.z),r.rotation.set(i.x,i.y,i.z),r.castShadow=!0,r.matrixAutoUpdate=!1,r.updateMatrix(),a(r)})}function loadFloor(e,n){e.load("assets/models/textures/marble.jpg",function(e){e.wrapS=THREE.RepeatWrapping,e.wrapT=THREE.RepeatWrapping,e.repeat.set(100,100);var t=new THREE.MeshStandardMaterial({roughness:.7,metalness:.1,map:e}),o=new THREE.PlaneGeometry(1e3,1e3),i=new THREE.Mesh(o,t);i.receiveShadow=!0,i.rotation.x=-Math.PI/2,i.position.y=-3,i.matrixAutoUpdate=!1,i.updateMatrix(),n(i)})}function setWindowResizeListener(e,n){window.addEventListener("resize",function(){e.aspect=$(window).width()/$(window).height(),e.updateProjectionMatrix(),n.setSize($(window).width(),$(window).height())},!1)}function createOrbitsControls(e,n){var t=new THREE.OrbitControls(e,n.domElement);return t.enableZoom=!1,t.autoRotate=!0,t.enablePan=!1,t.keyPanSpeed=7,t.enableKeys=!1,t.target=new THREE.Vector3(0,0,0),t.mouseButtons={},t.dispose(),t}function createRenderer(){var e=new THREE.WebGLRenderer({alpha:!0});return e.physicallyCorrectLights=!0,e.gammaInput=!0,e.gammaOutput=!0,e.shadowMap.enabled=!0,e.shadowMap.type=THREE.PCFSoftShadowMap,e.setSize($(window).width(),$(window).height()),e}function startThreeJSSceneIfSupported(e){Detector.webgl?sceneThreeJS(e):hideLoaderAnimation(function(){resizeViewport(e),profileAnimation(function(){downArrowAnimation()})})}function sceneThreeJS(e){var n=new THREE.Scene,t=createCamera(),o=new THREE.TextureLoader,i=new THREE.PLYLoader,a=createRenderer(),r=createOrbitsControls(t,a);document.getElementById("rendering-surface").appendChild(a.domElement),n.background=new THREE.Color(3162015),n.add(createLight()),n.add(createHemisphereLight()),loadStars(o,function(e){n.add(e)}),loadPlyModelUsingPhysicalMaterial(i,"assets/models/lucy.ply",{color:4149685,roughness:.5,metalness:.7,clearCoat:.5,clearCoatRoughness:.5,reflectivity:.7},new THREE.Vector3(3,-3,0),new THREE.Vector3(0,-Math.PI/3,0),function(e){n.add(e)}),loadPlyModelUsingPhysicalMaterial(i,"assets/models/dragon.ply",{color:4492031,roughness:.1,metalness:.9,clearCoat:0,clearCoatRoughness:.2,reflectivity:1},new THREE.Vector3(-3,-3,0),new THREE.Vector3(0,-Math.PI,0),function(e){n.add(e)}),loadPlyModelUsingPhysicalMaterial(i,"assets/models/bunny.ply",{color:13434879,roughness:.9,metalness:.1,clearCoat:0,clearCoatRoughness:.5,reflectivity:.1},new THREE.Vector3(0,-3,1.5),new THREE.Vector3(0,-Math.PI,0),function(e){n.add(e)}),loadFloor(o,function(e){n.add(e)});var c=function(){requestAnimationFrame(c),r.update(),a.render(n,t)};setWindowResizeListener(t,a),THREE.DefaultLoadingManager.onLoad=function(){hideLoaderAnimation(function(){resizeViewport(e),profileAnimation(function(){c(),downArrowAnimation(),showRenderingSurfaceAnimation()})})}}cookieConsent(),$(document).ready(function(){var e=isAMobileDevice(),n=new ScrollMagic.Controller;enableScroll(),loadFonts(),addTabsClickEvent(n),addArrowDownClickEvent(e),startThreeJSSceneIfSupported(e),whoIAmAnimation(n)});