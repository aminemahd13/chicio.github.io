!function i(s,c,a){function u(e,t){if(!c[e]){if(!s[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}var r=c[e]={exports:{}};s[e][0].call(r.exports,function(t){return u(s[e][1][t]||t)},r,r.exports,i,s,c,a)}return c[e].exports}for(var l="function"==typeof require&&require,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.disqus=void 0;n.disqus=function(){window.disqus_config=function(){this.page.url=window.location.href,this.page.identifier=window.location.href};var t=new IntersectionObserver(o,{rootMargin:"250px 0px",threshold:.01}),e=document.getElementById("disqus_thread");e&&t.observe(e)};var o=function(t,e){e.unobserve(t[0].target);var n=document.createElement("script");n.src="https://fabrizio-duroni.disqus.com/embed.js",n.setAttribute("data-timestamp","".concat(+new Date)),document.body&&document.body.appendChild(n)}},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.pullToRefresh=void 0;var f=t("../common/service-worker"),p=t("../common/css-class"),m=t("../common/tracking");n.pullToRefresh=function(r){if("serviceWorker"in navigator){var i=document.querySelector("#pull-to-refresh"),s=document.querySelector("#pull-to-refresh-status"),c=document.querySelector("#pull-to-refresh-loader"),n=document.querySelector(".pullable-content");v(i instanceof HTMLElement),v(s instanceof HTMLElement),v(c instanceof HTMLElement),v(n instanceof HTMLElement);var a=i.offsetHeight,u=g(),l=o(0,0),h=function(t,e){i.style.transform="translateY(".concat(t,"px)"),n.style.transform="translateY(".concat(t,"px)"),c.style.opacity="".concat(e)},d=function(){(0,p.addCssClass)(i,"end-pull"),(0,p.addCssClass)(n,"end-pull"),i.style.transform="",n.style.transform="",c.style.opacity="0"};document.addEventListener("touchstart",function(t){l=b(t),(0,p.addCssClass)(i,"start-pull"),(0,p.removeCssClass)(i,"end-pull"),(0,p.addCssClass)(n,"start-pull"),(0,p.removeCssClass)(n,"end-pull")},{passive:!1}),document.addEventListener("touchmove",function(t){var e=b(t),n=.5*(l.y-e.y),o=Math.abs(n);!function(t){return window.scrollY<=0&&t<=0}(n)||u.refreshStarted||(t.preventDefault(),t.stopPropagation(),(0,p.addCssClass)(i,"visible-pull"),(0,p.removeCssClass)(i,"hidden-pull"),!function(t){return a<=t}(o)?h(o-a,o/a):(u.startRefresh(),h(0,1),s.innerHTML="Refreshing",(0,p.addCssClass)(c,"animate"),(0,f.sendMessageToServiceWorker)({message:"refresh",url:window.location.href,clientId:(0,m.getTrackingClientId)(),trackingCategory:r}).then(function(t){u.completeRefresh(),setTimeout(function(){s.innerHTML="Refresh completed",(0,p.addCssClass)(i,"hidden-pull"),(0,p.removeCssClass)(i,"visible-pull"),d()},1500)})))},{passive:!1}),document.addEventListener("touchend",function(){u.refreshStarted||d()},{passive:!1}),i.addEventListener("transitionend",function(){u.refreshCompleted?window.location.reload():(s.innerHTML="Pull down to refresh",(0,p.removeCssClass)(c,"animate"))})}};var o=function(t,e){return{x:t,y:e}},g=function(){return{refreshStarted:!1,refreshCompleted:!1,startRefresh:function(){this.refreshStarted=!0},completeRefresh:function(){this.refreshCompleted=!0}}},v=function(t){if(!t)throw new Error("Pull to refresh invariant failed")},b=function(t){return o(t.targetTouches[0].screenX,t.targetTouches[0].screenY)}},{"../common/css-class":4,"../common/service-worker":6,"../common/tracking":7}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.cookieConsent=void 0;n.cookieConsent=function(){window.cookieconsent.initialise({palette:{popup:{background:"#303F9F",text:"#ffffff"},button:{background:"#0F67FF",text:"#ffffff"}},theme:"classic",content:{dismiss:"Ok",href:window.location.protocol+"//"+window.location.host+"/cookie-policy.html",message:"This website uses cookies to ensure you get the best experience.",link:"Learn more about cookie policy"}})}},{}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.removeCssClass=n.addCssClass=void 0;n.addCssClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e};n.removeCssClass=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}},{}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.lazyLoadImages=void 0,t("intersection-observer");var o=t("./css-class");n.lazyLoadImages=function(t){for(var e=new IntersectionObserver(r,{rootMargin:"50px 0px",threshold:.01}),n=document.querySelectorAll(t),o=0;o<n.length;o++)e.observe(n[o])};var r=function(t,e){for(var n=0;n<t.length;n++)0<t[n].intersectionRatio&&i(t[n].target,e)},i=function(t,e){t instanceof HTMLImageElement&&s(t,e)},s=function(t,e){var n=t.src;t.src=t.dataset.src,t.onload=function(){t.src!==n&&(e.unobserve(t),(0,o.removeCssClass)(t,"lazy"),(0,o.addCssClass)(t,"lazy-show"))},t.onerror=function(){t.src=n}}},{"./css-class":4,"intersection-observer":9}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sendMessageToServiceWorker=void 0;n.sendMessageToServiceWorker=function(o){return new Promise(function(e,n){var t=new MessageChannel;t.port1.onmessage=function(t){t.data&&(t.data.error?n(t.data.error):e(t.data))},navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(o,[t.port2])})}},{}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getTrackingClientId=void 0;n.getTrackingClientId=function(){var e="";return ga.getAll().forEach(function(t){e=t.get("clientId")}),e}},{}],8:[function(t,e,n){"use strict";var o=t("./common/cookie-consent.js"),r=t("./common/lazy-load-images"),i=t("./blog/disqus"),s=t("./blog/pull-to-refresh.js");window.ChicioCodingBlog={init:function(t){document.addEventListener("DOMContentLoaded",function(){(0,r.lazyLoadImages)(".blog-image")}),window.addEventListener("load",function(){(0,o.cookieConsent)(),(0,i.disqus)(),(0,s.pullToRefresh)(t)})}}},{"./blog/disqus":1,"./blog/pull-to-refresh.js":2,"./common/cookie-consent.js":3,"./common/lazy-load-images":5}],9:[function(t,e,n){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var m=window.document,e=[];t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},t.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},t.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(n(window,"resize",this._checkForIntersections,!0),n(m,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(m,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},t.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,o(window,"resize",this._checkForIntersections,!0),o(m,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},t.prototype._checkForIntersections=function(){var c=this._rootIsInDom(),a=c?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(t){var e=t.element,n=g(e),o=this._rootContainsTarget(e),r=t.entry,i=c&&o&&this._computeTargetAndRootIntersection(e,a),s=t.entry=new u({time:window.performance&&performance.now&&performance.now(),target:e,boundingClientRect:n,rootBounds:a,intersectionRect:i});r?c&&o?this._hasCrossedThreshold(r,s)&&this._queuedEntries.push(s):r&&r.isIntersecting&&this._queuedEntries.push(s):this._queuedEntries.push(s)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},t.prototype._computeTargetAndRootIntersection=function(t,e){if("none"!=window.getComputedStyle(t).display){for(var n,o,r,i,s,c,a,u,l=g(t),h=v(t),d=!1;!d;){var f=null,p=1==h.nodeType?window.getComputedStyle(h):{};if("none"==p.display)return;if(h==this.root||h==m?(d=!0,f=e):h!=m.body&&h!=m.documentElement&&"visible"!=p.overflow&&(f=g(h)),f&&(n=f,o=l,void 0,r=Math.max(n.top,o.top),i=Math.min(n.bottom,o.bottom),s=Math.max(n.left,o.left),c=Math.min(n.right,o.right),u=i-r,!(l=0<=(a=c-s)&&0<=u&&{top:r,bottom:i,left:s,right:c,width:a,height:u})))break;h=v(h)}return l}},t.prototype._getRootRect=function(){var t;if(this.root)t=g(this.root);else{var e=m.documentElement,n=m.body;t={top:0,left:0,right:e.clientWidth||n.clientWidth,width:e.clientWidth||n.clientWidth,bottom:e.clientHeight||n.clientHeight,height:e.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)},t.prototype._expandRectByRootMargin=function(n){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?n.width:n.height)/100}),e={top:n.top-t[0],right:n.right+t[1],bottom:n.bottom+t[2],left:n.left-t[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},t.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var r=0;r<this.thresholds.length;r++){var i=this.thresholds[r];if(i==n||i==o||i<n!=i<o)return!0}},t.prototype._rootIsInDom=function(){return!this.root||r(m,this.root)},t.prototype._rootContainsTarget=function(t){return r(this.root||m,t)},t.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},t.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=t,window.IntersectionObserverEntry=u}function u(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,o=this.intersectionRect,r=o.width*o.height;this.intersectionRatio=n?Number((r/n).toFixed(4)):this.isIntersecting?1:0}function t(t,e){var n=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(t,e){var n=null;return function(){n=n||setTimeout(function(){t(),n=null},e)}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function n(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function o(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function g(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function r(t,e){for(var n=e;n;){if(n==t)return!0;n=v(n)}return!1}function v(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}()},{}]},{},[8]);