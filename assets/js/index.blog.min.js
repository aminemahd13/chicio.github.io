!function i(s,c,a){function u(e,t){if(!c[e]){if(!s[e]){var o="function"==typeof require&&require;if(!t&&o)return o(e,!0);if(l)return l(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var r=c[e]={exports:{}};s[e][0].call(r.exports,function(t){return u(s[e][1][t]||t)},r,r.exports,i,s,c,a)}return c[e].exports}for(var l="function"==typeof require&&require,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.disqus=void 0;o.disqus=function(){window.disqus_config=function(){this.page.url=window.location.href,this.page.identifier=window.location.href};var t=new IntersectionObserver(n,{rootMargin:"250px 0px",threshold:.01}),e=document.getElementById("disqus_thread");e&&t.observe(e)};var n=function(t,e){e.unobserve(t[0].target);var o=document.createElement("script");o.src="https://fabrizio-duroni.disqus.com/embed.js",o.setAttribute("data-timestamp","".concat(+new Date)),document.body&&document.body.appendChild(o)}},{}],2:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.tryToActivatePullToRefresh=void 0;var d=t("../common/service-worker"),f=t("../common/css-class"),p=t("../common/tracking");o.tryToActivatePullToRefresh=function(t,e){!0===e&&n(t)};var n=function(r){if("serviceWorker"in navigator){var i=document.querySelector("#pull-to-refresh"),s=document.querySelector("#pull-to-refresh-status"),c=document.querySelector("#pull-to-refresh-loader"),o=document.querySelector(".pullable-content");g(i instanceof HTMLElement),g(s instanceof HTMLElement),g(c instanceof HTMLElement),g(o instanceof HTMLElement);var a=v(),u=m(0,0),l=function(t,e){i.style.transform="translateY(".concat(t,"px)"),o.style.transform="translateY(".concat(t,"px)"),c.style.opacity="".concat(e)},h=function(){(0,f.addCssClass)(i,"end-pull"),(0,f.addCssClass)(o,"end-pull"),i.style.transform="",o.style.transform="",c.style.opacity="0"};document.addEventListener("touchstart",function(t){u=y(t),(0,f.addCssClass)(i,"start-pull"),(0,f.removeCssClass)(i,"end-pull"),(0,f.addCssClass)(o,"start-pull"),(0,f.removeCssClass)(o,"end-pull")},{passive:!1}),document.addEventListener("touchmove",function(t){var e=y(t),o=.5*(u.y-e.y),n=Math.abs(o);!function(t){return window.scrollY<=0&&t<=0}(o)||a.refreshStarted||(t.preventDefault(),t.stopPropagation(),(0,f.addCssClass)(i,"visible-pull"),(0,f.removeCssClass)(i,"hidden-pull"),!function(t){return 100<=t}(n)?l(n-100,n/100):(a.startRefresh(),l(0,1),s.innerHTML="Refreshing",(0,f.addCssClass)(c,"animate"),(0,d.sendMessageToServiceWorker)({message:"refresh",url:window.location.href,clientId:(0,p.getTrackingClientId)(),trackingCategory:r}).then(function(){a.completeRefresh(),setTimeout(function(){s.innerHTML="Refresh completed",(0,f.addCssClass)(i,"hidden-pull"),(0,f.removeCssClass)(i,"visible-pull"),h()},1500)})))},{passive:!1}),document.addEventListener("touchend",function(){a.refreshStarted||h()},{passive:!1}),i.addEventListener("transitionend",function(){a.refreshCompleted?window.location.reload():(s.innerHTML="Pull down to refresh",(0,f.removeCssClass)(c,"animate"))})}},m=function(t,e){return{x:t,y:e}},v=function(){return{refreshStarted:!1,refreshCompleted:!1,startRefresh:function(){this.refreshStarted=!0},completeRefresh:function(){this.refreshCompleted=!0}}},g=function(t){if(!t)throw new Error("Pull to refresh invariant failed")},y=function(t){return m(t.targetTouches[0].screenX,t.targetTouches[0].screenY)}},{"../common/css-class":4,"../common/service-worker":6,"../common/tracking":7}],3:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.cookieConsent=void 0;o.cookieConsent=function(){window.cookieconsent.initialise({palette:{popup:{background:"#303F9F",text:"#ffffff"},button:{background:"#0F67FF",text:"#ffffff"}},theme:"classic",content:{dismiss:"Ok",href:window.location.protocol+"//"+window.location.host+"/cookie-policy.html",message:"This website uses cookies to ensure you get the best experience.",link:"Learn more about cookie policy"}})}},{}],4:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.removeCssClass=o.addCssClass=void 0;o.addCssClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e};o.removeCssClass=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}},{}],5:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.lazyLoadImages=void 0,t("intersection-observer");var n=t("./css-class");o.lazyLoadImages=function(t){for(var e=new IntersectionObserver(r,{rootMargin:"50px 0px",threshold:.01}),o=document.querySelectorAll(t),n=0;n<o.length;n++)e.observe(o[n])};var r=function(t,e){for(var o=0;o<t.length;o++)0<t[o].intersectionRatio&&i(t[o].target,e)},i=function(t,e){t instanceof HTMLImageElement&&s(t,e)},s=function(t,e){var o=t.src;t.src=t.dataset.src,t.onload=function(){t.src!==o&&(e.unobserve(t),(0,n.removeCssClass)(t,"lazy"),(0,n.addCssClass)(t,"lazy-show"))},t.onerror=function(){t.src=o}}},{"./css-class":4,"intersection-observer":9}],6:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.registerToServicerWorker=o.sendMessageToServiceWorker=void 0;o.registerToServicerWorker=function(){"serviceWorker"in navigator&&navigator.serviceWorker?navigator.serviceWorker.register("/sw.js").then(function(){console.log("Service Worker registration completed")}).catch(function(t){console.error("Service Worker registration failed:",t)}):console.log("Service worker not supported")};o.sendMessageToServiceWorker=function(n){return new Promise(function(e,o){var t=new MessageChannel;t.port1.onmessage=function(t){t.data&&(t.data.error?o(t.data.error):e(t.data))},navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(n,[t.port2])})}},{}],7:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getTrackingClientId=void 0;o.getTrackingClientId=function(){var e="";return ga.getAll().forEach(function(t){e=t.get("clientId")}),e}},{}],8:[function(t,e,o){"use strict";var n=t("./common/cookie-consent"),r=t("./common/lazy-load-images"),i=t("./blog/disqus"),s=t("./blog/pull-to-refresh"),c=t("./common/service-worker");window.ChicioCodingBlog={init:function(t,e){document.addEventListener("DOMContentLoaded",function(){(0,r.lazyLoadImages)(".blog-image")}),window.addEventListener("load",function(){(0,c.registerToServicerWorker)(),(0,n.cookieConsent)(),(0,s.tryToActivatePullToRefresh)(t,e),(0,i.disqus)()})}}},{"./blog/disqus":1,"./blog/pull-to-refresh":2,"./common/cookie-consent":3,"./common/lazy-load-images":5,"./common/service-worker":6}],9:[function(t,e,o){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){if("object"===("undefined"==typeof window?"undefined":i(window)))if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var m=window.document,e=[];t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,o){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==o[e-1]})},t.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},t.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(window,"resize",this._checkForIntersections,!0),o(m,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(m,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},t.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,n(window,"resize",this._checkForIntersections,!0),n(m,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},t.prototype._checkForIntersections=function(){var c=this._rootIsInDom(),a=c?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(t){var e=t.element,o=v(e),n=this._rootContainsTarget(e),r=t.entry,i=c&&n&&this._computeTargetAndRootIntersection(e,a),s=t.entry=new u({time:window.performance&&performance.now&&performance.now(),target:e,boundingClientRect:o,rootBounds:a,intersectionRect:i});r?c&&n?this._hasCrossedThreshold(r,s)&&this._queuedEntries.push(s):r&&r.isIntersecting&&this._queuedEntries.push(s):this._queuedEntries.push(s)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},t.prototype._computeTargetAndRootIntersection=function(t,e){if("none"!=window.getComputedStyle(t).display){for(var o,n,r,i,s,c,a,u,l=v(t),h=g(t),d=!1;!d;){var f=null,p=1==h.nodeType?window.getComputedStyle(h):{};if("none"==p.display)return;if(h==this.root||h==m?(d=!0,f=e):h!=m.body&&h!=m.documentElement&&"visible"!=p.overflow&&(f=v(h)),f&&(o=f,n=l,void 0,r=Math.max(o.top,n.top),i=Math.min(o.bottom,n.bottom),s=Math.max(o.left,n.left),c=Math.min(o.right,n.right),u=i-r,!(l=0<=(a=c-s)&&0<=u&&{top:r,bottom:i,left:s,right:c,width:a,height:u})))break;h=g(h)}return l}},t.prototype._getRootRect=function(){var t;if(this.root)t=v(this.root);else{var e=m.documentElement,o=m.body;t={top:0,left:0,right:e.clientWidth||o.clientWidth,width:e.clientWidth||o.clientWidth,bottom:e.clientHeight||o.clientHeight,height:e.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(t)},t.prototype._expandRectByRootMargin=function(o){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?o.width:o.height)/100}),e={top:o.top-t[0],right:o.right+t[1],bottom:o.bottom+t[2],left:o.left-t[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},t.prototype._hasCrossedThreshold=function(t,e){var o=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1;if(o!==n)for(var r=0;r<this.thresholds.length;r++){var i=this.thresholds[r];if(i==o||i==n||i<o!=i<n)return!0}},t.prototype._rootIsInDom=function(){return!this.root||r(m,this.root)},t.prototype._rootContainsTarget=function(t){return r(this.root||m,t)},t.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},t.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=t,window.IntersectionObserverEntry=u}function u(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,o=e.width*e.height,n=this.intersectionRect,r=n.width*n.height;this.intersectionRatio=o?Number((r/o).toFixed(4)):this.isIntersecting?1:0}function t(t,e){var o=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(t,e){var o=null;return function(){o=o||setTimeout(function(){t(),o=null},e)}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function o(t,e,o,n){"function"==typeof t.addEventListener?t.addEventListener(e,o,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,o)}function n(t,e,o,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,o,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,o)}function v(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function r(t,e){for(var o=e;o;){if(o==t)return!0;o=g(o)}return!1}function g(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}()},{}]},{},[8]);