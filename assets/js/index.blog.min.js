!function i(s,c,a){function u(e,t){if(!c[e]){if(!s[e]){var o="function"==typeof require&&require;if(!t&&o)return o(e,!0);if(l)return l(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var r=c[e]={exports:{}};s[e][0].call(r.exports,function(t){return u(s[e][1][t]||t)},r,r.exports,i,s,c,a)}return c[e].exports}for(var l="function"==typeof require&&require,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.disqus=void 0;o.disqus=function(){window.disqus_config=function(){this.page.url=window.location.href,this.page.identifier=window.location.href};var t=new IntersectionObserver(n,{rootMargin:"100px 0px",threshold:.01}),e=document.getElementById("disqus_thread");e&&t.observe(e)};var n=function(t,e){for(var o=0;o<t.length;o++)0<t[o].intersectionRatio&&r(t[o].target,e)},r=function(t,e){e.unobserve(t);var o=document.createElement("script");o.src="https://fabrizio-duroni.disqus.com/embed.js",o.setAttribute("data-timestamp","".concat(+new Date)),document.body&&document.body.appendChild(o)}},{}],2:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.tryToActivatePullToRefresh=void 0;var d=t("../common/service-worker"),f=t("../common/css-class"),p=t("../common/tracking");o.tryToActivatePullToRefresh=function(t,e){!0===e&&n(t)};var n=function(r){if("serviceWorker"in navigator){var i=document.querySelector("#pull-to-refresh"),s=document.querySelector("#pull-to-refresh-status"),c=document.querySelector("#pull-to-refresh-loader"),o=document.querySelector(".pullable-content");v(i instanceof HTMLElement),v(s instanceof HTMLElement),v(c instanceof HTMLElement),v(o instanceof HTMLElement);var a=g(),u=m(0,0),l=function(t,e){i.style.transform="translateY(".concat(t,"px)"),o.style.transform="translateY(".concat(t,"px)"),c.style.opacity="".concat(e)},h=function(){(0,f.addCssClass)(i,"end-pull"),(0,f.addCssClass)(o,"end-pull"),i.style.transform="",o.style.transform="",c.style.opacity="0"};document.addEventListener("touchstart",function(t){u=b(t),(0,f.addCssClass)(i,"start-pull"),(0,f.removeCssClass)(i,"end-pull"),(0,f.addCssClass)(o,"start-pull"),(0,f.removeCssClass)(o,"end-pull")},{passive:!1}),document.addEventListener("touchmove",function(t){var e=b(t),o=.5*(u.y-e.y),n=Math.abs(o);!function(t){return window.scrollY<=0&&t<=0}(o)||a.refreshStarted||(t.preventDefault(),t.stopPropagation(),(0,f.addCssClass)(i,"visible-pull"),(0,f.removeCssClass)(i,"hidden-pull"),!function(t){return 100<=t}(n)?l(n-100,n/100):(a.startRefresh(),l(0,1),s.innerHTML="Refreshing",(0,f.addCssClass)(c,"animate"),(0,d.sendMessageToServiceWorker)({message:"refresh",url:window.location.href,clientId:(0,p.getTrackingClientId)(),trackingCategory:r}).then(function(){a.completeRefresh(),setTimeout(function(){s.innerHTML="Refresh completed",(0,f.addCssClass)(i,"hidden-pull"),(0,f.removeCssClass)(i,"visible-pull"),h()},1500)})))},{passive:!1}),document.addEventListener("touchend",function(){a.refreshStarted||h()},{passive:!1}),i.addEventListener("transitionend",function(){a.refreshCompleted?window.location.reload():(s.innerHTML="Pull down to refresh",(0,f.removeCssClass)(c,"animate"))})}},m=function(t,e){return{x:t,y:e}},g=function(){return{refreshStarted:!1,refreshCompleted:!1,startRefresh:function(){this.refreshStarted=!0},completeRefresh:function(){this.refreshCompleted=!0}}},v=function(t){if(!t)throw new Error("Pull to refresh invariant failed")},b=function(t){return m(t.targetTouches[0].screenX,t.targetTouches[0].screenY)}},{"../common/css-class":5,"../common/service-worker":7,"../common/tracking":8}],3:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.youtube=void 0;o.youtube=function(){for(var t=new IntersectionObserver(n,{rootMargin:"50px 0px",threshold:.01}),e=document.querySelectorAll(".youtube"),o=0;o<e.length;o++)t.observe(e[o])};var n=function(t,e){for(var o=0;o<t.length;o++)0<t[o].intersectionRatio&&r(t[o].target,e)},r=function(t,e){e.unobserve(t);var o=document.createElement("iframe");o.setAttribute("src","http://google.com/"),o.setAttribute("height","480"),o.setAttribute("width","700"),o.setAttribute("frameborder","0"),o.setAttribute("allowfullscreen",""),o.setAttribute("allow","autoplay; encrypted-media"),o.setAttribute("src","https://www.youtube.com/embed/".concat(t.dataset.videoId)),t.appendChild(o)}},{}],4:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.cookieConsent=void 0;o.cookieConsent=function(){window.cookieconsent.initialise({palette:{popup:{background:"#303F9F",text:"#ffffff"},button:{background:"#0F67FF",text:"#ffffff"}},theme:"classic",content:{dismiss:"Ok",href:window.location.protocol+"//"+window.location.host+"/cookie-policy.html",message:"This website uses cookies to ensure you get the best experience.",link:"Learn more about cookie policy"}})}},{}],5:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.removeCssClass=o.addCssClass=void 0;o.addCssClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e};o.removeCssClass=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}},{}],6:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.lazyLoadImages=void 0,t("intersection-observer");var n=t("./css-class");o.lazyLoadImages=function(t){for(var e=new IntersectionObserver(r,{rootMargin:"50px 0px",threshold:.01}),o=document.querySelectorAll(t),n=0;n<o.length;n++)e.observe(o[n])};var r=function(t,e){for(var o=0;o<t.length;o++)0<t[o].intersectionRatio&&i(t[o].target,e)},i=function(t,e){t instanceof HTMLImageElement&&s(t,e)},s=function(t,e){var o=t.src;t.src=t.dataset.src,t.onload=function(){t.src!==o&&(e.unobserve(t),(0,n.removeCssClass)(t,"lazy"),(0,n.addCssClass)(t,"lazy-show"))},t.onerror=function(){t.src=o}}},{"./css-class":5,"intersection-observer":10}],7:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.registerToServicerWorker=o.sendMessageToServiceWorker=void 0;o.registerToServicerWorker=function(){"serviceWorker"in navigator&&navigator.serviceWorker?navigator.serviceWorker.register("/sw.js").then(function(){console.log("Service Worker registration completed")}).catch(function(t){console.error("Service Worker registration failed:",t)}):console.log("Service worker not supported")};o.sendMessageToServiceWorker=function(n){return new Promise(function(e,o){var t=new MessageChannel;t.port1.onmessage=function(t){t.data&&(t.data.error?o(t.data.error):e(t.data))},navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(n,[t.port2])})}},{}],8:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getTrackingClientId=void 0;o.getTrackingClientId=function(){var e="";return ga.getAll().forEach(function(t){e=t.get("clientId")}),e}},{}],9:[function(t,e,o){"use strict";var n=t("./common/cookie-consent"),r=t("./common/lazy-load-images"),i=t("./blog/disqus"),s=t("./blog/pull-to-refresh"),c=t("./common/service-worker"),a=t("./blog/youtube");window.ChicioCodingBlog={init:function(t,e){document.addEventListener("DOMContentLoaded",function(){(0,r.lazyLoadImages)(".blog-image")}),window.addEventListener("load",function(){(0,c.registerToServicerWorker)(),(0,n.cookieConsent)(),(0,s.tryToActivatePullToRefresh)(t,e),(0,a.youtube)(),(0,i.disqus)()})}}},{"./blog/disqus":1,"./blog/pull-to-refresh":2,"./blog/youtube":3,"./common/cookie-consent":4,"./common/lazy-load-images":6,"./common/service-worker":7}],10:[function(t,e,o){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){if("object"===("undefined"==typeof window?"undefined":n(window)))if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var w=window.document,o=[],_=null,T=null;t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t._setupCrossOriginUpdater=function(){return _=_||function(t,e){T=t&&e?E(t,e):{top:0,bottom:0,left:0,right:0,width:0,height:0},o.forEach(function(t){t._checkForIntersections()})}},t._resetCrossOriginUpdater=function(){T=_=null},t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,o){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==o[e-1]})},t.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},t.prototype._monitorIntersections=function(e){var t=e.defaultView;if(t&&-1==this._monitoringDocuments.indexOf(e)){var o=this._checkForIntersections,n=null,r=null;if(this.POLL_INTERVAL?n=t.setInterval(o,this.POLL_INTERVAL):(s(t,"resize",o,!0),s(e,"scroll",o,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(r=new t.MutationObserver(o)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push(function(){var t=e.defaultView;t&&(n&&t.clearInterval(n),c(t,"resize",o,!0)),c(e,"scroll",o,!0),r&&r.disconnect()}),e!=(this.root&&this.root.ownerDocument||w)){var i=a(e);i&&this._monitorIntersections(i.ownerDocument)}}},t.prototype._unmonitorIntersections=function(n){var t=this._monitoringDocuments.indexOf(n);if(-1!=t){var r=this.root&&this.root.ownerDocument||w;if(!this._observationTargets.some(function(t){var e=t.element.ownerDocument;if(e==n)return!0;for(;e&&e!=r;){var o=a(e);if((e=o&&o.ownerDocument)==n)return!0}return!1})){var e=this._monitoringUnsubscribes[t];if(this._monitoringDocuments.splice(t,1),this._monitoringUnsubscribes.splice(t,1),e(),n!=r){var o=a(n);o&&this._unmonitorIntersections(o.ownerDocument)}}}},t.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0;for(var e=this._monitoringUnsubscribes.length=0;e<t.length;e++)t[e]()},t.prototype._checkForIntersections=function(){if(this.root||!_||T){var c=this._rootIsInDom(),a=c?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(t){var e=t.element,o=C(e),n=this._rootContainsTarget(e),r=t.entry,i=c&&n&&this._computeTargetAndRootIntersection(e,o,a),s=t.entry=new u({time:window.performance&&performance.now&&performance.now(),target:e,boundingClientRect:o,rootBounds:_&&!this.root?null:a,intersectionRect:i});r?c&&n?this._hasCrossedThreshold(r,s)&&this._queuedEntries.push(s):r&&r.isIntersecting&&this._queuedEntries.push(s):this._queuedEntries.push(s)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},t.prototype._computeTargetAndRootIntersection=function(t,e,o){if("none"!=window.getComputedStyle(t).display){for(var n,r,i,s,c,a,u,l,h=e,d=I(t),f=!1;!f&&d;){var p=null,m=1==d.nodeType?window.getComputedStyle(d):{};if("none"==m.display)return null;if(d==this.root||9==d.nodeType)if(f=!0,d==this.root||d==w)_&&!this.root?!T||0==T.width&&0==T.height?h=p=d=null:p=T:p=o;else{var g=I(d),v=g&&C(g),b=g&&this._computeTargetAndRootIntersection(g,v,o);v&&b?(d=g,p=E(v,b)):h=d=null}else{var y=d.ownerDocument;d!=y.body&&d!=y.documentElement&&"visible"!=m.overflow&&(p=C(d))}if(p&&(n=p,r=h,void 0,i=Math.max(n.top,r.top),s=Math.min(n.bottom,r.bottom),c=Math.max(n.left,r.left),a=Math.min(n.right,r.right),l=s-i,h=0<=(u=a-c)&&0<=l&&{top:i,bottom:s,left:c,right:a,width:u,height:l}||null),!h)break;d=d&&I(d)}return h}},t.prototype._getRootRect=function(){var t;if(this.root)t=C(this.root);else{var e=w.documentElement,o=w.body;t={top:0,left:0,right:e.clientWidth||o.clientWidth,width:e.clientWidth||o.clientWidth,bottom:e.clientHeight||o.clientHeight,height:e.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(t)},t.prototype._expandRectByRootMargin=function(o){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?o.width:o.height)/100}),e={top:o.top-t[0],right:o.right+t[1],bottom:o.bottom+t[2],left:o.left-t[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},t.prototype._hasCrossedThreshold=function(t,e){var o=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1;if(o!==n)for(var r=0;r<this.thresholds.length;r++){var i=this.thresholds[r];if(i==o||i==n||i<o!=i<n)return!0}},t.prototype._rootIsInDom=function(){return!this.root||e(w,this.root)},t.prototype._rootContainsTarget=function(t){return e(this.root||w,t)&&(!this.root||this.root.ownerDocument==t.ownerDocument)},t.prototype._registerInstance=function(){o.indexOf(this)<0&&o.push(this)},t.prototype._unregisterInstance=function(){var t=o.indexOf(this);-1!=t&&o.splice(t,1)},window.IntersectionObserver=t,window.IntersectionObserverEntry=u}function u(t){this.time=t.time,this.target=t.target,this.rootBounds=i(t.rootBounds),this.boundingClientRect=i(t.boundingClientRect),this.intersectionRect=i(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,o=e.width*e.height,n=this.intersectionRect,r=n.width*n.height;this.intersectionRatio=o?Number((r/o).toFixed(4)):this.isIntersecting?1:0}function t(t,e){var o=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(t,e){var o=null;return function(){o=o||setTimeout(function(){t(),o=null},e)}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(t,e,o,n){"function"==typeof t.addEventListener?t.addEventListener(e,o,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,o)}function c(t,e,o,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,o,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,o)}function C(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function i(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function E(t,e){var o=e.top-t.top,n=e.left-t.left;return{top:o,left:n,height:e.height,width:e.width,bottom:o+e.height,right:n+e.width}}function e(t,e){for(var o=e;o;){if(o==t)return!0;o=I(o)}return!1}function I(t){var e=t.parentNode;return 9==t.nodeType&&t!=w?a(t):e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}function a(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}}()},{}]},{},[9]);